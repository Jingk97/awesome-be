# GoFast 框架配置文件
# 支持环境变量覆盖：GOFAST_SERVER_HTTP_PORT=8080

# ==================== 应用配置 ====================
app:
  name: awesome-be
  env: dev  # dev, test, prod

# ==================== 服务器配置 ====================
server:
  http:
    host: 0.0.0.0
    port: 8080
    read_timeout: 60s
    write_timeout: 60s
    max_header_bytes: 1048576

  grpc:
    host: 0.0.0.0
    port: 9090
    max_recv_msg_size: 4194304
    max_send_msg_size: 4194304

# ==================== 日志配置 ====================
logger:
  level: debug  # debug, info, warn, error (dev 模式建议使用 debug)
  format: json  # json, console
  console:
    enabled: true
  file:
    enabled: true
    filename: logs/gofast.log
    max_size: 100
    max_backups: 3
    max_age: 7
    compress: true
  enable_caller: true
  enable_stacktrace: false

# ==================== 健康检查配置 ====================
health:
  timeout: 5s
  detailed: true

# ==================== JWT 配置 ====================
jwt:
  secret: your-secret-key-change-in-production
  expire: 7200  # 2 小时
  refresh_expire: 604800  # 7 天
  issuer: gofast

# ==================== 中间件配置 ====================
middleware:
  # CORS 跨域配置
  cors:
    enabled: true
    allow_origins:
      - "*"
    allow_methods:
      - "GET"
      - "POST"
      - "PUT"
      - "DELETE"
      - "OPTIONS"
    allow_headers:
      - "*"
    expose_headers: []
    allow_credentials: false
    max_age: 12h
    allow_wildcard: false

  # 限流配置
  rate_limit:
    enabled: false
    requests: 100
    window: 1m

  # 链路追踪配置
  trace:
    enabled: true
    header: X-Trace-ID
