# GoFast - 通用 Go Web 框架

基于 Gin 的企业级 Web 应用框架，提供完整的基础设施和最佳实践。

## 快速开始

### 1. 安装依赖

```bash
go mod tidy
```

### 2. 运行应用

```bash
go run cmd/server/main.go
```

### 3. 测试健康检查

```bash
# 存活检查
curl http://localhost:8080/health/live

# 就绪检查
curl http://localhost:8080/health/ready

# 测试接口
curl http://localhost:8080/ping
```

## 项目结构

```
gofast/
├── cmd/                    # 应用入口
│   └── server/            # HTTP 服务器
│       └── main.go        # 主启动文件
├── internal/              # 内部包（不对外暴露）
│   ├── config/           # 配置模块
│   ├── logger/           # 日志模块
│   ├── database/         # 数据库模块
│   ├── redis/            # Redis 模块
│   ├── errors/           # 错误处理模块
│   └── health/           # 健康检查模块
├── pkg/                   # 公共包（可对外暴露）
│   ├── response/         # 统一响应格式
│   └── middleware/       # 中间件
├── docs/                  # 文档
│   ├── architecture/     # 架构设计文档
│   ├── phase-1-infrastructure/  # 基础设施模块文档
│   └── phase-2-core/     # 核心功能模块文档
├── go.mod                 # Go 模块定义
└── README.md             # 项目说明
```

## 开发流程

### 初级工程师（0-2 年）

**学习目标**：
- 理解项目结构和代码规范
- 掌握基础的 Go 语法和标准库
- 学会使用 Git 进行版本控制

**任务类型**：
- 实现简单的 CRUD 接口
- 修复明确的 Bug
- 编写单元测试

**代码审查关注点**：
- 代码规范（命名、格式、注释）
- 错误处理是否完整
- 是否有资源泄漏

### 中级工程师（2-5 年）

**学习目标**：
- 理解分层架构和依赖注入
- 掌握并发编程和性能优化
- 学会设计可测试的代码

**任务类型**：
- 实现复杂的业务逻辑
- 优化性能瓶颈
- 设计新模块的接口

**代码审查关注点**：
- 架构设计是否合理
- 是否有并发安全问题
- 代码可测试性

### 高级工程师（5+ 年）

**学习目标**：
- 掌握系统设计和架构模式
- 理解分布式系统的挑战
- 能够指导团队技术方向

**任务类型**：
- 设计系统架构
- 解决复杂的技术难题
- 制定技术规范

**代码审查关注点**：
- 系统可扩展性
- 可维护性和可观测性
- 是否遵循最佳实践

## 开发规范

### 代码规范

1. **命名规范**
   - 包名：小写，单数，简短（如 `config`, `logger`）
   - 文件名：小写，下划线分隔（如 `user_service.go`）
   - 变量名：驼峰命名（如 `userName`, `userID`）
   - 常量名：大写，下划线分隔（如 `MAX_RETRY_COUNT`）

2. **注释规范**
   - 包注释：说明包的用途
   - 函数注释：说明功能、参数、返回值
   - 复杂逻辑：添加注释解释

3. **错误处理**
   - 不要忽略错误
   - 使用 `errors.Wrap` 添加上下文
   - 在合适的层级记录日志

### Git 工作流

1. **分支命名**
   - 功能分支：`feature/用户登录`
   - 修复分支：`fix/修复数据库连接泄漏`
   - 重构分支：`refactor/优化查询性能`

2. **提交信息**
   ```
   类型(范围): 简短描述

   详细描述（可选）

   关联 Issue（可选）
   ```

   示例：
   ```
   feat(auth): 实现用户登录功能

   - 添加 JWT 认证
   - 实现登录接口
   - 添加单元测试

   Closes #123
   ```

3. **提交类型**
   - `feat`: 新功能
   - `fix`: 修复 Bug
   - `docs`: 文档更新
   - `style`: 代码格式调整
   - `refactor`: 重构
   - `test`: 测试相关
   - `chore`: 构建/工具相关

### TODO 标记规范

```go
// TODO: 简单描述
// TODO(张三): 带责任人
// TODO(P0): 带优先级（P0=紧急, P1=重要, P2=普通）
// TODO(2024-03-01): 带截止日期
```

## 当前开发状态

### ✅ 已完成
- [x] 项目结构搭建
- [x] 主启动流程框架
- [x] 文档设计

### 🚧 进行中
- [ ] 配置模块实现
- [ ] 日志模块实现
- [ ] 健康检查模块实现

### 📋 待开发
- [ ] 数据库模块
- [ ] Redis 模块
- [ ] 错误处理模块
- [ ] 中间件实现
- [ ] 业务逻辑层

## 学习资源

### 官方文档
- [Go 官方文档](https://go.dev/doc/)
- [Gin 框架文档](https://gin-gonic.com/docs/)
- [GORM 文档](https://gorm.io/docs/)

### 推荐书籍
- 《Go 程序设计语言》- 入门必读
- 《Go 语言实战》- 进阶学习
- 《Go 并发编程实战》- 并发编程

### 架构设计
- 《Clean Architecture》- 架构设计
- 《Designing Data-Intensive Applications》- 系统设计
- 《微服务设计》- 微服务架构

## 常见问题

### Q: 为什么使用 internal 目录？
A: `internal` 目录是 Go 的特殊目录，其中的包只能被同一模块内的代码导入，不能被外部模块使用。这样可以：
- 明确哪些是内部实现，哪些是公共 API
- 避免内部实现被外部依赖
- 提高代码的可维护性

### Q: 为什么要使用依赖注入？
A: 依赖注入的好处：
- 降低模块间的耦合
- 提高代码的可测试性
- 便于替换实现（如测试时使用 Mock）

### Q: 如何进行单元测试？
A: 参考 `*_test.go` 文件，使用 Go 的 testing 包：
```go
func TestUserService_Create(t *testing.T) {
    // 准备测试数据
    // 执行测试
    // 验证结果
}
```

## 贡献指南

1. Fork 项目
2. 创建功能分支
3. 提交代码
4. 创建 Pull Request
5. 等待代码审查

## 许可证

MIT License
